{"ast":null,"code":"import firebase from 'firebase/app';\nimport 'firebase/storage';\n\nconst initializeFirebase = async token => {\n  try {\n    if (!firebase.apps.length) {\n      const res = await fetch(`${process.env.REACT_APP_API_URL}/products/firebaseConfig`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const firebaseConfig = await res.json();\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app();\n    }\n\n    return firebase;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport default initializeFirebase; // const firebaseConfig = {\n//   apiKey: 'secret',\n//   authDomain: '<your-auth-domain>',\n//   databaseURL: 'https://brdecomm-c1d32.firebaseio.com/images',\n//   storageBucket: 'gs://brdecomm-c1d32.appspot.com',\n// };","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/firebase.js"],"names":["firebase","initializeFirebase","token","apps","length","res","fetch","process","env","REACT_APP_API_URL","headers","Authorization","firebaseConfig","json","initializeApp","app","error","console","log"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,kBAAP;;AAEA,MAAMC,kBAAkB,GAAG,MAAOC,KAAP,IAAiB;AAC1C,MAAI;AACF,QAAI,CAACF,QAAQ,CAACG,IAAT,CAAcC,MAAnB,EAA2B;AACzB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CACpB,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,0BADZ,EAErB;AACEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAAST,KAAM;AADxB;AADX,OAFqB,CAAvB;AAQA,YAAMU,cAAc,GAAG,MAAMP,GAAG,CAACQ,IAAJ,EAA7B;AACAb,MAAAA,QAAQ,CAACc,aAAT,CAAuBF,cAAvB;AACD,KAXD,MAWO;AACLZ,MAAAA,QAAQ,CAACe,GAAT;AACD;;AACD,WAAOf,QAAP;AACD,GAhBD,CAgBE,OAAOgB,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CApBD;;AAsBA,eAAef,kBAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/storage';\n\nconst initializeFirebase = async (token) => {\n  try {\n    if (!firebase.apps.length) {\n      const res = await fetch(\n        `${process.env.REACT_APP_API_URL}/products/firebaseConfig`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      const firebaseConfig = await res.json();\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app();\n    }\n    return firebase;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport default initializeFirebase;\n\n// const firebaseConfig = {\n//   apiKey: 'secret',\n//   authDomain: '<your-auth-domain>',\n//   databaseURL: 'https://brdecomm-c1d32.firebaseio.com/images',\n//   storageBucket: 'gs://brdecomm-c1d32.appspot.com',\n// };\n"]},"metadata":{},"sourceType":"module"}