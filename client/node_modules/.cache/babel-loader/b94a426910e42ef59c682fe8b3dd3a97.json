{"ast":null,"code":"import _slicedToArray from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState}from'react';import{NavLink as Rlink}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import SideDrawer from'../ui/SideDrawer';import MenuDropdown from'../ui/MenuDropdown';import SearchBar from'../../products/components/SearchBar';import{logoutUser}from'../../../redux/actionCreators/userActionCreators';import{makeStyles}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import IconButton from'@material-ui/core/IconButton';import Link from'@material-ui/core/Link';import Backdrop from'@material-ui/core/Backdrop';import Badge from'@material-ui/core/Badge';import MenuIcon from'@material-ui/icons/Menu';import ShoppingCartIcon from'@material-ui/icons/ShoppingCart';import PersonIcon from'@material-ui/icons/Person';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){var _menuButton,_iconButton;return{grow:_defineProperty({flexGrow:1,backgroundColor:'blue'},theme.breakpoints.down(760),{display:'none'}),menuButton:(_menuButton={display:'none',marginRight:theme.spacing(10)},_defineProperty(_menuButton,theme.breakpoints.down(760),{display:'block'}),_defineProperty(_menuButton,theme.breakpoints.down('sm'),{marginRight:'5px'}),_menuButton),iconButton:(_iconButton={marginRight:theme.spacing(8),color:'grey','&:hover':{color:'#fff'},'&.active':{color:'#fff'}},_defineProperty(_iconButton,theme.breakpoints.down('sm'),{marginRight:'15px'}),_defineProperty(_iconButton,theme.breakpoints.down(760),{display:'none'}),_iconButton),logo:_defineProperty({marginLeft:'35px'},theme.breakpoints.down(760),{display:'none'})};});var MainHeader=function MainHeader(){var _loggedInUser$user,_loggedInUser$user2,_loggedInUser$user3,_loggedInUser$user4,_loggedInUser$user4$n;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.userAuth;}),loggedInUser=_useSelector.loggedInUser;var itemCount=useSelector(function(state){var _state$cart$cartItems;return(_state$cart$cartItems=state.cart.cartItems)===null||_state$cart$cartItems===void 0?void 0:_state$cart$cartItems.length;});var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};var logoutHandler=function logoutHandler(){dispatch(logoutUser());};return/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(AppBar,{position:\"fixed\",children:[/*#__PURE__*/_jsx(Backdrop,{open:open,onClick:handleDrawerClose}),/*#__PURE__*/_jsx(SideDrawer,{open:open,onClose:handleDrawerClose,loggedInUser:loggedInUser,logoutHandler:logoutHandler}),/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"start\",color:\"inherit\",onClick:handleDrawerOpen,className:classes.menuButton,children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Link,{className:classes.logo,component:Rlink,to:\"/products\",color:\"inherit\",underline:\"none\",variant:\"h5\",children:\"GoShop\"}),/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(\"div\",{className:classes.grow}),/*#__PURE__*/_jsxs(IconButton,{edge:\"start\",className:classes.iconButton,to:\"/cart\",component:Rlink,children:[/*#__PURE__*/_jsx(ShoppingCartIcon,{}),/*#__PURE__*/_jsx(Badge,{badgeContent:itemCount,color:\"error\",children:/*#__PURE__*/_jsx(Typography,{variant:\"button\",children:\"CART\"})})]}),(loggedInUser===null||loggedInUser===void 0?void 0:loggedInUser.token)?/*#__PURE__*/_jsx(IconButton,{edge:\"start\",className:classes.iconButton,children:/*#__PURE__*/_jsx(MenuDropdown,{logoutHandler:logoutHandler,avatarColor:loggedInUser===null||loggedInUser===void 0?void 0:(_loggedInUser$user=loggedInUser.user)===null||_loggedInUser$user===void 0?void 0:_loggedInUser$user.avatarColor,userId:loggedInUser===null||loggedInUser===void 0?void 0:(_loggedInUser$user2=loggedInUser.user)===null||_loggedInUser$user2===void 0?void 0:_loggedInUser$user2.id,isAdmin:loggedInUser===null||loggedInUser===void 0?void 0:(_loggedInUser$user3=loggedInUser.user)===null||_loggedInUser$user3===void 0?void 0:_loggedInUser$user3.isAdmin,children:loggedInUser===null||loggedInUser===void 0?void 0:(_loggedInUser$user4=loggedInUser.user)===null||_loggedInUser$user4===void 0?void 0:(_loggedInUser$user4$n=_loggedInUser$user4.name)===null||_loggedInUser$user4$n===void 0?void 0:_loggedInUser$user4$n.slice(0,1).toUpperCase()})}):/*#__PURE__*/_jsxs(IconButton,{edge:\"start\",color:\"inherit\",className:classes.iconButton,to:\"/auth\",component:Rlink,children:[/*#__PURE__*/_jsx(PersonIcon,{}),/*#__PURE__*/_jsx(Typography,{variant:\"button\",children:\"SIGNIN\"})]})]})]})});};export default MainHeader;","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/components/shared/navigation/MainHeader.js"],"names":["React","useState","NavLink","Rlink","useDispatch","useSelector","SideDrawer","MenuDropdown","SearchBar","logoutUser","makeStyles","Typography","AppBar","Toolbar","IconButton","Link","Backdrop","Badge","MenuIcon","ShoppingCartIcon","PersonIcon","useStyles","theme","grow","flexGrow","backgroundColor","breakpoints","down","display","menuButton","marginRight","spacing","iconButton","color","logo","marginLeft","MainHeader","classes","open","setOpen","dispatch","state","userAuth","loggedInUser","itemCount","cart","cartItems","length","handleDrawerOpen","handleDrawerClose","logoutHandler","token","user","avatarColor","id","isAdmin","name","slice","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { NavLink as Rlink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport SideDrawer from '../ui/SideDrawer';\nimport MenuDropdown from '../ui/MenuDropdown';\nimport SearchBar from '../../products/components/SearchBar';\n\nimport { logoutUser } from '../../../redux/actionCreators/userActionCreators';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Badge from '@material-ui/core/Badge';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport PersonIcon from '@material-ui/icons/Person';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n    backgroundColor: 'blue',\n    [theme.breakpoints.down(760)]: {\n      display: 'none',\n    },\n  },\n  menuButton: {\n    display: 'none',\n    marginRight: theme.spacing(10),\n    [theme.breakpoints.down(760)]: {\n      display: 'block',\n    },\n    [theme.breakpoints.down('sm')]: {\n      marginRight: '5px',\n    },\n  },\n  iconButton: {\n    marginRight: theme.spacing(8),\n    color: 'grey',\n    '&:hover': {\n      color: '#fff',\n    },\n    '&.active': {\n      color: '#fff',\n    },\n    [theme.breakpoints.down('sm')]: {\n      marginRight: '15px',\n    },\n    [theme.breakpoints.down(760)]: {\n      display: 'none',\n    },\n  },\n  logo: {\n    marginLeft: '35px',\n    [theme.breakpoints.down(760)]: {\n      display: 'none',\n    },\n  },\n}));\n\nconst MainHeader = () => {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const dispatch = useDispatch();\n  const { loggedInUser } = useSelector((state) => state.userAuth);\n  const itemCount = useSelector((state) => state.cart.cartItems?.length);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const logoutHandler = () => {\n    dispatch(logoutUser());\n  };\n\n  return (\n    <header>\n      <AppBar position=\"fixed\">\n        <Backdrop open={open} onClick={handleDrawerClose} />\n        <SideDrawer\n          open={open}\n          onClose={handleDrawerClose}\n          loggedInUser={loggedInUser}\n          logoutHandler={logoutHandler}\n        />\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={handleDrawerOpen}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Link\n            className={classes.logo}\n            component={Rlink}\n            to=\"/products\"\n            color=\"inherit\"\n            underline=\"none\"\n            variant=\"h5\"\n          >\n            GoShop\n          </Link>\n          <SearchBar />\n          <div className={classes.grow}></div>\n          <IconButton\n            edge=\"start\"\n            className={classes.iconButton}\n            to=\"/cart\"\n            component={Rlink}\n          >\n            <ShoppingCartIcon />\n            <Badge badgeContent={itemCount} color=\"error\">\n              <Typography variant=\"button\">CART</Typography>\n            </Badge>\n          </IconButton>\n          {loggedInUser?.token ? (\n            <IconButton edge=\"start\" className={classes.iconButton}>\n              <MenuDropdown\n                logoutHandler={logoutHandler}\n                avatarColor={loggedInUser?.user?.avatarColor}\n                userId={loggedInUser?.user?.id}\n                isAdmin={loggedInUser?.user?.isAdmin}\n              >\n                {loggedInUser?.user?.name?.slice(0, 1).toUpperCase()}\n              </MenuDropdown>\n            </IconButton>\n          ) : (\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              className={classes.iconButton}\n              to=\"/auth\"\n              component={Rlink}\n            >\n              <PersonIcon />\n              <Typography variant=\"button\">SIGNIN</Typography>\n            </IconButton>\n          )}\n        </Toolbar>\n      </AppBar>\n    </header>\n  );\n};\n\nexport default MainHeader;\n"]},"metadata":{},"sourceType":"module"}