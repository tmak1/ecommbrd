{"ast":null,"code":"import _slicedToArray from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var method,headers,body,response,data,msg,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:'GET';headers=_args.length>2&&_args[2]!==undefined?_args[2]:{};body=_args.length>3&&_args[3]!==undefined?_args[3]:null;_context.prev=3;_context.next=6;return fetch(url,{method:method,headers:headers,body:body});case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;if(response.ok){_context.next=12;break;}throw data;case 12:return _context.abrupt(\"return\",{error:null,data:data});case 15:_context.prev=15;_context.t0=_context[\"catch\"](3);console.log(_context.t0);msg=_context.t0.stack?_context.t0.message||'An unknown error occured':'An unknown error occured';return _context.abrupt(\"return\",{error:msg,data:null});case 20:case\"end\":return _context.stop();}}},_callee,null,[[3,15]]);}));return function sendRequest(_x){return _ref.apply(this,arguments);};}();export var capitalize=function capitalize(item){var itemArray=Object.entries(item).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],val=_ref3[1];if(key==='id'||typeof val!=='string'){return[key,val];}return[key,val.trim().slice(0,1).toUpperCase().concat(val.trim().slice(1))];});var itemObj=Object.fromEntries(itemArray);return itemObj;};export var addressStringify=function addressStringify(shippingAddress){var street=shippingAddress.street,suburb=shippingAddress.suburb,postcode=shippingAddress.postcode,city=shippingAddress.city,country=shippingAddress.country;var shipping={street:street,suburb:suburb,postcode:postcode,city:city,country:country};if(!shipping.suburb||shipping.suburb===''){delete shipping.suburb;}shipping=Object.entries(shipping).map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return val;}).join(', ');return shipping;};export var paymentMethodStringify=function paymentMethodStringify(paymentMethod){var payment=['MasterCard','VISA'][Math.floor(Math.random()*2)]+' xxxx xxxx xxxx '+paymentMethod.cardNumber.toString().slice(-4);return payment;};export var formatFileName=function formatFileName(fileName){return fileName.trim().split(/\\s+/).map(function(str){return str.toLowerCase();}).join('_');};export var dateFormatter=function dateFormatter(dateString){var dateObj=new Date(Date.parse(dateString));return dateObj.toLocaleDateString();};","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/helpers.js"],"names":["sendRequest","url","method","headers","body","fetch","response","json","data","ok","error","console","log","msg","stack","message","capitalize","item","itemArray","Object","entries","map","key","val","trim","slice","toUpperCase","concat","itemObj","fromEntries","addressStringify","shippingAddress","street","suburb","postcode","city","country","shipping","join","paymentMethodStringify","paymentMethod","payment","Math","floor","random","cardNumber","toString","formatFileName","fileName","split","str","toLowerCase","dateFormatter","dateString","dateObj","Date","parse","toLocaleDateString"],"mappings":"qfAAA,MAAO,IAAMA,CAAAA,WAAW,0FAAG,iBACzBC,GADyB,4KAEzBC,MAFyB,+CAEhB,KAFgB,CAGzBC,OAHyB,+CAGf,EAHe,CAIzBC,IAJyB,+CAIlB,IAJkB,uCAOAC,CAAAA,KAAK,CAACJ,GAAD,CAAM,CAAEC,MAAM,CAANA,MAAF,CAAUC,OAAO,CAAPA,OAAV,CAAmBC,IAAI,CAAJA,IAAnB,CAAN,CAPL,QAOjBE,QAPiB,qCAQJA,CAAAA,QAAQ,CAACC,IAAT,EARI,QAQjBC,IARiB,kBASlBF,QAAQ,CAACG,EATS,+BAUfD,CAAAA,IAVe,yCAYhB,CAAEE,KAAK,CAAE,IAAT,CAAeF,IAAI,CAAJA,IAAf,CAZgB,4DAcvBG,OAAO,CAACC,GAAR,cACMC,GAfiB,CAeX,YAAMC,KAAN,CACR,YAAMC,OAAN,EAAiB,0BADT,CAER,0BAjBmB,iCAkBhB,CAAEL,KAAK,CAAEG,GAAT,CAAcL,IAAI,CAAE,IAApB,CAlBgB,uEAAH,kBAAXR,CAAAA,WAAW,4CAAjB,CAsBP,MAAO,IAAMgB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CAClC,GAAMC,CAAAA,SAAS,CAAGC,MAAM,CAACC,OAAP,CAAeH,IAAf,EAAqBI,GAArB,CAAyB,eAAgB,mCAAdC,GAAc,UAATC,GAAS,UACzD,GAAID,GAAG,GAAK,IAAR,EAAgB,MAAOC,CAAAA,GAAP,GAAe,QAAnC,CAA6C,CAC3C,MAAO,CAACD,GAAD,CAAMC,GAAN,CAAP,CACD,CACD,MAAO,CACLD,GADK,CAELC,GAAG,CAACC,IAAJ,GAAWC,KAAX,CAAiB,CAAjB,CAAoB,CAApB,EAAuBC,WAAvB,GAAqCC,MAArC,CAA4CJ,GAAG,CAACC,IAAJ,GAAWC,KAAX,CAAiB,CAAjB,CAA5C,CAFK,CAAP,CAID,CARiB,CAAlB,CASA,GAAMG,CAAAA,OAAO,CAAGT,MAAM,CAACU,WAAP,CAAmBX,SAAnB,CAAhB,CACA,MAAOU,CAAAA,OAAP,CACD,CAZM,CAcP,MAAO,IAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,eAAD,CAAqB,CACnD,GAAQC,CAAAA,MAAR,CAAoDD,eAApD,CAAQC,MAAR,CAAgBC,MAAhB,CAAoDF,eAApD,CAAgBE,MAAhB,CAAwBC,QAAxB,CAAoDH,eAApD,CAAwBG,QAAxB,CAAkCC,IAAlC,CAAoDJ,eAApD,CAAkCI,IAAlC,CAAwCC,OAAxC,CAAoDL,eAApD,CAAwCK,OAAxC,CACA,GAAIC,CAAAA,QAAQ,CAAG,CAAEL,MAAM,CAANA,MAAF,CAAUC,MAAM,CAANA,MAAV,CAAkBC,QAAQ,CAARA,QAAlB,CAA4BC,IAAI,CAAJA,IAA5B,CAAkCC,OAAO,CAAPA,OAAlC,CAAf,CACA,GAAI,CAACC,QAAQ,CAACJ,MAAV,EAAoBI,QAAQ,CAACJ,MAAT,GAAoB,EAA5C,CAAgD,CAC9C,MAAOI,CAAAA,QAAQ,CAACJ,MAAhB,CACD,CACDI,QAAQ,CAAGlB,MAAM,CAACC,OAAP,CAAeiB,QAAf,EACRhB,GADQ,CACJ,kDAAEC,GAAF,UAAOC,GAAP,gBAAgBA,CAAAA,GAAhB,EADI,EAERe,IAFQ,CAEH,IAFG,CAAX,CAIA,MAAOD,CAAAA,QAAP,CACD,CAXM,CAaP,MAAO,IAAME,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,aAAD,CAAmB,CACvD,GAAMC,CAAAA,OAAO,CACX,CAAC,YAAD,CAAe,MAAf,EAAuBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,CAA3B,CAAvB,EACA,kBADA,CAEAJ,aAAa,CAACK,UAAd,CAAyBC,QAAzB,GAAoCrB,KAApC,CAA0C,CAAC,CAA3C,CAHF,CAIA,MAAOgB,CAAAA,OAAP,CACD,CANM,CAQP,MAAO,IAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,QAAD,CAAc,CAC1C,MAAOA,CAAAA,QAAQ,CACZxB,IADI,GAEJyB,KAFI,CAEE,KAFF,EAGJ5B,GAHI,CAGA,SAAC6B,GAAD,QAASA,CAAAA,GAAG,CAACC,WAAJ,EAAT,EAHA,EAIJb,IAJI,CAIC,GAJD,CAAP,CAKD,CANM,CAQP,MAAO,IAAMc,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,UAAD,CAAgB,CAC3C,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,CAASA,IAAI,CAACC,KAAL,CAAWH,UAAX,CAAT,CAAhB,CACA,MAAOC,CAAAA,OAAO,CAACG,kBAAR,EAAP,CACD,CAHM","sourcesContent":["export const sendRequest = async (\n  url,\n  method = 'GET',\n  headers = {},\n  body = null\n) => {\n  try {\n    const response = await fetch(url, { method, headers, body });\n    const data = await response.json();\n    if (!response.ok) {\n      throw data;\n    }\n    return { error: null, data };\n  } catch (error) {\n    console.log(error);\n    const msg = error.stack\n      ? error.message || 'An unknown error occured'\n      : 'An unknown error occured';\n    return { error: msg, data: null };\n  }\n};\n\nexport const capitalize = (item) => {\n  const itemArray = Object.entries(item).map(([key, val]) => {\n    if (key === 'id' || typeof val !== 'string') {\n      return [key, val];\n    }\n    return [\n      key,\n      val.trim().slice(0, 1).toUpperCase().concat(val.trim().slice(1)),\n    ];\n  });\n  const itemObj = Object.fromEntries(itemArray);\n  return itemObj;\n};\n\nexport const addressStringify = (shippingAddress) => {\n  const { street, suburb, postcode, city, country } = shippingAddress;\n  let shipping = { street, suburb, postcode, city, country };\n  if (!shipping.suburb || shipping.suburb === '') {\n    delete shipping.suburb;\n  }\n  shipping = Object.entries(shipping)\n    .map(([key, val]) => val)\n    .join(', ');\n\n  return shipping;\n};\n\nexport const paymentMethodStringify = (paymentMethod) => {\n  const payment =\n    ['MasterCard', 'VISA'][Math.floor(Math.random() * 2)] +\n    ' xxxx xxxx xxxx ' +\n    paymentMethod.cardNumber.toString().slice(-4);\n  return payment;\n};\n\nexport const formatFileName = (fileName) => {\n  return fileName\n    .trim()\n    .split(/\\s+/)\n    .map((str) => str.toLowerCase())\n    .join('_');\n};\n\nexport const dateFormatter = (dateString) => {\n  const dateObj = new Date(Date.parse(dateString));\n  return dateObj.toLocaleDateString();\n};\n"]},"metadata":{},"sourceType":"module"}