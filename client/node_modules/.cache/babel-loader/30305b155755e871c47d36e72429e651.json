{"ast":null,"code":"import { ADD_TO_CART_REQUEST, ADD_TO_CART_SUCCESS, ADD_TO_CART_FAILURE, REMOVE_FROM_CART } from '../actions/cartActions';\n\nconst addToCart = (state, payload) => {\n  let cartItems = [];\n  let itemExists = false;\n\n  if (state.cartItems.length > 0) {\n    cartItems = state.cartItems.map(product => {\n      if (product.id === payload.id) {\n        itemExists = true;\n        return payload;\n      }\n\n      return product;\n    });\n  }\n\n  if (!itemExists) {\n    cartItems = [...state.cartItems, payload];\n  }\n\n  return cartItems;\n};\n\nconst removeFromCart = (state, payload) => {\n  let cartItems = state.cartItems.filter(product => product.id !== payload);\n  return cartItems;\n};\n\nconst cartReducer = (state = {}, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ADD_TO_CART_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case ADD_TO_CART_SUCCESS:\n      return {\n        loading: false,\n        cartItems: addToCart(state, payload)\n      };\n\n    case ADD_TO_CART_FAILURE:\n      return { ...state,\n        loading: false,\n        error: payload\n      };\n\n    case REMOVE_FROM_CART:\n      return { ...state,\n        loading: false,\n        cartItems: removeFromCart(state, payload)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/server/client/src/redux/reducers/cartReducers.js"],"names":["ADD_TO_CART_REQUEST","ADD_TO_CART_SUCCESS","ADD_TO_CART_FAILURE","REMOVE_FROM_CART","addToCart","state","payload","cartItems","itemExists","length","map","product","id","removeFromCart","filter","cartReducer","type","loading","error"],"mappings":"AAAA,SACEA,mBADF,EAEEC,mBAFF,EAGEC,mBAHF,EAIEC,gBAJF,QAKO,wBALP;;AAOA,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACpC,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,UAAU,GAAG,KAAjB;;AACA,MAAIH,KAAK,CAACE,SAAN,CAAgBE,MAAhB,GAAyB,CAA7B,EAAgC;AAC9BF,IAAAA,SAAS,GAAGF,KAAK,CAACE,SAAN,CAAgBG,GAAhB,CAAqBC,OAAD,IAAa;AAC3C,UAAIA,OAAO,CAACC,EAAR,KAAeN,OAAO,CAACM,EAA3B,EAA+B;AAC7BJ,QAAAA,UAAU,GAAG,IAAb;AACA,eAAOF,OAAP;AACD;;AACD,aAAOK,OAAP;AACD,KANW,CAAZ;AAOD;;AACD,MAAI,CAACH,UAAL,EAAiB;AACfD,IAAAA,SAAS,GAAG,CAAC,GAAGF,KAAK,CAACE,SAAV,EAAqBD,OAArB,CAAZ;AACD;;AACD,SAAOC,SAAP;AACD,CAhBD;;AAkBA,MAAMM,cAAc,GAAG,CAACR,KAAD,EAAQC,OAAR,KAAoB;AACzC,MAAIC,SAAS,GAAGF,KAAK,CAACE,SAAN,CAAgBO,MAAhB,CAAwBH,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeN,OAAnD,CAAhB;AACA,SAAOC,SAAP;AACD,CAHD;;AAKA,MAAMQ,WAAW,GAAG,CAACV,KAAK,GAAG,EAAT,EAAa;AAAEW,EAAAA,IAAF;AAAQV,EAAAA;AAAR,CAAb,KAAmC;AACrD,UAAQU,IAAR;AACE,SAAKhB,mBAAL;AACE,aAAO,EAAE,GAAGK,KAAL;AAAYY,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACF,SAAKhB,mBAAL;AACE,aAAO;AAAEgB,QAAAA,OAAO,EAAE,KAAX;AAAkBV,QAAAA,SAAS,EAAEH,SAAS,CAACC,KAAD,EAAQC,OAAR;AAAtC,OAAP;;AACF,SAAKJ,mBAAL;AACE,aAAO,EAAE,GAAGG,KAAL;AAAYY,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,KAAK,EAAEZ;AAAnC,OAAP;;AACF,SAAKH,gBAAL;AACE,aAAO,EACL,GAAGE,KADE;AAELY,QAAAA,OAAO,EAAE,KAFJ;AAGLV,QAAAA,SAAS,EAAEM,cAAc,CAACR,KAAD,EAAQC,OAAR;AAHpB,OAAP;;AAKF;AACE,aAAOD,KAAP;AAdJ;AAgBD,CAjBD;;AAmBA,eAAeU,WAAf","sourcesContent":["import {\n  ADD_TO_CART_REQUEST,\n  ADD_TO_CART_SUCCESS,\n  ADD_TO_CART_FAILURE,\n  REMOVE_FROM_CART,\n} from '../actions/cartActions';\n\nconst addToCart = (state, payload) => {\n  let cartItems = [];\n  let itemExists = false;\n  if (state.cartItems.length > 0) {\n    cartItems = state.cartItems.map((product) => {\n      if (product.id === payload.id) {\n        itemExists = true;\n        return payload;\n      }\n      return product;\n    });\n  }\n  if (!itemExists) {\n    cartItems = [...state.cartItems, payload];\n  }\n  return cartItems;\n};\n\nconst removeFromCart = (state, payload) => {\n  let cartItems = state.cartItems.filter((product) => product.id !== payload);\n  return cartItems;\n};\n\nconst cartReducer = (state = {}, { type, payload }) => {\n  switch (type) {\n    case ADD_TO_CART_REQUEST:\n      return { ...state, loading: true };\n    case ADD_TO_CART_SUCCESS:\n      return { loading: false, cartItems: addToCart(state, payload) };\n    case ADD_TO_CART_FAILURE:\n      return { ...state, loading: false, error: payload };\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        loading: false,\n        cartItems: removeFromCart(state, payload),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n"]},"metadata":{},"sourceType":"module"}