{"ast":null,"code":"var _jsxFileName = \"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/server/client/src/components/products/components/ReviewList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link as Rlink } from 'react-router-dom';\nimport DecisionDialog from '../../shared/ui/DecisionDialog';\nimport { dateFormatter } from '../../../helpers';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Link from '@material-ui/core/Link';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Zoom from '@material-ui/core/Zoom';\nimport Divider from '@material-ui/core/Divider';\nimport Rating from '@material-ui/lab/Rating';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { deleteProductReview } from '../../../redux/actionCreators/reviewActionCreators';\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n    [theme.breakpoints.down('xs')]: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    '& li': {\n      [theme.breakpoints.down('xs')]: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        width: '100%'\n      }\n    }\n  },\n  block: {\n    display: 'block',\n    width: '100%'\n  },\n  link: {\n    '&:hover': {\n      color: 'blue',\n      textDecoration: 'underline',\n      cursor: 'pointer'\n    }\n  },\n  iconButton: {\n    marginRight: theme.spacing(8),\n    color: 'grey',\n    '&:hover': {\n      color: '#fff'\n    },\n    '&.active': {\n      color: '#fff'\n    },\n    [theme.breakpoints.down('xs')]: {\n      display: 'none'\n    }\n  },\n  productDetails: {\n    display: 'flex',\n    gap: '20px',\n    marginTop: '20px'\n  }\n}));\n\nconst ReviewList = ({\n  reviews,\n  loggedInUser,\n  refreshReviews,\n  userReview\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [reviewIdToDelete, setReviewIdToDelete] = useState();\n\n  const deleteReview = reviewId => {\n    setReviewIdToDelete(reviewId);\n  };\n\n  const onSuccess = () => {\n    refreshReviews();\n  };\n\n  const handleRemove = () => {\n    if (reviewIdToDelete) {\n      dispatch(deleteProductReview(reviewIdToDelete, loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.token, onSuccess));\n    }\n  };\n\n  useEffect(() => {\n    if (reviewIdToDelete) {\n      setDialogOpen(true);\n    }\n  }, [reviewIdToDelete]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DecisionDialog, {\n      open: dialogOpen,\n      title: \"Delete Review\",\n      content: \"This will delete the review\",\n      actionBtnText: \"Delete\",\n      setDialogOpen: setDialogOpen,\n      handleAction: handleRemove\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      className: classes.root,\n      children: reviews.map(review => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginBottom: '30px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(ListItem, {\n            component: \"div\",\n            children: /*#__PURE__*/_jsxDEV(ListItemText, {\n              className: classes.block,\n              primary: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                  TransitionComponent: Zoom,\n                  title: \"All reviews by this user\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: classes.link,\n                    component: Rlink,\n                    to: `/reviews/users/${review.userId.id}`,\n                    variant: \"h6\",\n                    color: \"inherit\",\n                    children: review.userId.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 23\n                }, this), (loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.user.isAdmin) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '20px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    style: {\n                      marginLeft: '20px'\n                    },\n                    variant: \"caption\",\n                    color: \"textPrimary\",\n                    children: /*#__PURE__*/_jsxDEV(\"em\", {\n                      children: review.userId.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    TransitionComponent: Zoom,\n                    title: \"Delete Review\",\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      color: \"inherit\",\n                      size: \"small\",\n                      onClick: () => deleteReview(review.id),\n                      children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                        style: {\n                          color: 'red'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 159,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 21\n              }, this),\n              secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Rating, {\n                  value: review.rating,\n                  precision: 1.0,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  className: classes.block,\n                  color: \"textPrimary\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: [review.comment === '' ? 'Reviewed' : 'Rated', \" on\", ' ', dateFormatter(review.updatedAt)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), userReview && /*#__PURE__*/_jsxDEV(ListItem, {\n            component: \"div\",\n            children: /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: 'block',\n                  width: '180px',\n                  height: '160px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: review.productId.imageUrl,\n                  alt: review.productId.name,\n                  style: {\n                    width: '100%',\n                    height: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 23\n              }, this),\n              secondary: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: 'block',\n                  marginTop: '20px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                    TransitionComponent: Zoom,\n                    title: \"product details\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      className: classes.link,\n                      to: `/products/${review.productId.id}`,\n                      component: Rlink,\n                      variant: \"body2\",\n                      color: \"inherit\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: review.productId.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: classes.productDetails,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$ \", review.productId.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Category: \", review.productId.category]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this), review.comment && /*#__PURE__*/_jsxDEV(ListItem, {\n            component: \"div\",\n            children: /*#__PURE__*/_jsxDEV(ListItemText, {\n              className: classes.block,\n              primary: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"textPrimary\",\n                align: \"justify\",\n                children: review.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            style: {\n              marginTop: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, review.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ReviewList, \"0dvQvBYlXLtePPnwB6Ord9U7fVk=\", false, function () {\n  return [useStyles, useDispatch];\n});\n\n_c = ReviewList;\nexport default ReviewList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewList\");","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/server/client/src/components/products/components/ReviewList.js"],"names":["React","useState","useEffect","Link","Rlink","DecisionDialog","dateFormatter","makeStyles","Typography","List","ListItem","ListItemText","IconButton","Tooltip","Zoom","Divider","Rating","DeleteIcon","deleteProductReview","useDispatch","useStyles","theme","root","width","backgroundColor","palette","background","paper","breakpoints","down","display","flexDirection","alignItems","block","link","color","textDecoration","cursor","iconButton","marginRight","spacing","productDetails","gap","marginTop","ReviewList","reviews","loggedInUser","refreshReviews","userReview","classes","dispatch","dialogOpen","setDialogOpen","reviewIdToDelete","setReviewIdToDelete","deleteReview","reviewId","onSuccess","handleRemove","token","map","review","marginBottom","userId","id","name","user","isAdmin","marginLeft","email","rating","comment","updatedAt","height","productId","imageUrl","price","category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link as Rlink } from 'react-router-dom';\n\nimport DecisionDialog from '../../shared/ui/DecisionDialog';\n\nimport { dateFormatter } from '../../../helpers';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Link from '@material-ui/core/Link';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Zoom from '@material-ui/core/Zoom';\nimport Divider from '@material-ui/core/Divider';\nimport Rating from '@material-ui/lab/Rating';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { deleteProductReview } from '../../../redux/actionCreators/reviewActionCreators';\nimport { useDispatch } from 'react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n    [theme.breakpoints.down('xs')]: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    '& li': {\n      [theme.breakpoints.down('xs')]: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        width: '100%',\n      },\n    },\n  },\n  block: {\n    display: 'block',\n    width: '100%',\n  },\n  link: {\n    '&:hover': {\n      color: 'blue',\n      textDecoration: 'underline',\n      cursor: 'pointer',\n    },\n  },\n  iconButton: {\n    marginRight: theme.spacing(8),\n    color: 'grey',\n    '&:hover': {\n      color: '#fff',\n    },\n    '&.active': {\n      color: '#fff',\n    },\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  productDetails: {\n    display: 'flex',\n    gap: '20px',\n    marginTop: '20px',\n  },\n}));\n\nconst ReviewList = ({ reviews, loggedInUser, refreshReviews, userReview }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [reviewIdToDelete, setReviewIdToDelete] = useState();\n  const deleteReview = (reviewId) => {\n    setReviewIdToDelete(reviewId);\n  };\n  const onSuccess = () => {\n    refreshReviews();\n  };\n  const handleRemove = () => {\n    if (reviewIdToDelete) {\n      dispatch(\n        deleteProductReview(reviewIdToDelete, loggedInUser?.token, onSuccess)\n      );\n    }\n  };\n  useEffect(() => {\n    if (reviewIdToDelete) {\n      setDialogOpen(true);\n    }\n  }, [reviewIdToDelete]);\n\n  return (\n    <>\n      <DecisionDialog\n        open={dialogOpen}\n        title=\"Delete Review\"\n        content=\"This will delete the review\"\n        actionBtnText=\"Delete\"\n        setDialogOpen={setDialogOpen}\n        handleAction={handleRemove}\n      />\n      <List className={classes.root}>\n        {reviews.map((review) => {\n          return (\n            <li key={review.id} style={{ marginBottom: '30px' }}>\n              <ListItem component=\"div\">\n                <ListItemText\n                  className={classes.block}\n                  primary={\n                    <div\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                      }}\n                    >\n                      <Tooltip\n                        TransitionComponent={Zoom}\n                        title=\"All reviews by this user\"\n                      >\n                        <Link\n                          className={classes.link}\n                          component={Rlink}\n                          to={`/reviews/users/${review.userId.id}`}\n                          variant=\"h6\"\n                          color=\"inherit\"\n                        >\n                          {review.userId.name}\n                        </Link>\n                      </Tooltip>\n                      {loggedInUser?.user.isAdmin && (\n                        <div\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '20px',\n                          }}\n                        >\n                          <Typography\n                            style={{ marginLeft: '20px' }}\n                            variant=\"caption\"\n                            color=\"textPrimary\"\n                          >\n                            <em>{review.userId.email}</em>\n                          </Typography>\n                          <Tooltip\n                            TransitionComponent={Zoom}\n                            title=\"Delete Review\"\n                          >\n                            <IconButton\n                              color=\"inherit\"\n                              size=\"small\"\n                              onClick={() => deleteReview(review.id)}\n                            >\n                              <DeleteIcon style={{ color: 'red' }} />\n                            </IconButton>\n                          </Tooltip>\n                        </div>\n                      )}\n                    </div>\n                  }\n                  secondary={\n                    <>\n                      <Rating value={review.rating} precision={1.0} readOnly />\n                      <Typography\n                        variant=\"caption\"\n                        className={classes.block}\n                        color=\"textPrimary\"\n                      >\n                        <em>\n                          {review.comment === '' ? 'Reviewed' : 'Rated'} on{' '}\n                          {dateFormatter(review.updatedAt)}\n                        </em>\n                      </Typography>\n                    </>\n                  }\n                />\n              </ListItem>\n              {userReview && (\n                <ListItem component=\"div\">\n                  <ListItemText\n                    primary={\n                      <span\n                        style={{\n                          display: 'block',\n                          width: '180px',\n                          height: '160px',\n                        }}\n                      >\n                        <img\n                          src={review.productId.imageUrl}\n                          alt={review.productId.name}\n                          style={{ width: '100%', height: '100%' }}\n                        />\n                      </span>\n                    }\n                    secondary={\n                      <span style={{ display: 'block', marginTop: '20px' }}>\n                        <span>\n                          <Tooltip\n                            TransitionComponent={Zoom}\n                            title=\"product details\"\n                          >\n                            <Link\n                              className={classes.link}\n                              to={`/products/${review.productId.id}`}\n                              component={Rlink}\n                              variant=\"body2\"\n                              color=\"inherit\"\n                            >\n                              <span>{review.productId.name}</span>\n                            </Link>\n                          </Tooltip>\n                        </span>\n                        <span className={classes.productDetails}>\n                          <span>$ {review.productId.price}</span>\n                          <span>Category: {review.productId.category}</span>\n                        </span>\n                      </span>\n                    }\n                  />\n                </ListItem>\n              )}\n              {review.comment && (\n                <ListItem component=\"div\">\n                  <ListItemText\n                    className={classes.block}\n                    primary={\n                      <Typography\n                        variant=\"body2\"\n                        color=\"textPrimary\"\n                        align=\"justify\"\n                      >\n                        {review.comment}\n                      </Typography>\n                    }\n                  />\n                </ListItem>\n              )}\n              <Divider style={{ marginTop: '10px' }} />\n            </li>\n          );\n        })}\n      </List>\n    </>\n  );\n};\n\nexport default ReviewList;\n"]},"metadata":{},"sourceType":"module"}