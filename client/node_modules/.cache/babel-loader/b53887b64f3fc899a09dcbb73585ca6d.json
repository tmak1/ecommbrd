{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{PRODUCT_REVIEW_REQUEST,PRODUCT_REVIEW_SUCCESS,PRODUCT_REVIEW_FAILURE,USER_REVIEW_REQUEST,USER_REVIEW_SUCCESS,USER_REVIEW_FAILURE,REVIEW_CREATE_REQUEST,REVIEW_CREATE_SUCCESS,REVIEW_CREATE_FAILURE,REVIEW_DELETE_REQUEST,REVIEW_DELETE_SUCCESS,REVIEW_DELETE_FAILURE}from'../actions/reviewActions';import{sendRequest}from'../../helpers';export var getAllProductReviews=function getAllProductReviews(productId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _yield$sendRequest,error,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:PRODUCT_REVIEW_REQUEST});_context.next=4;return sendRequest(\"\".concat(process.env.REACT_APP_API_URL,\"/reviews/products/\").concat(productId));case 4:_yield$sendRequest=_context.sent;error=_yield$sendRequest.error;data=_yield$sendRequest.data;error?dispatch({type:PRODUCT_REVIEW_FAILURE,payload:error}):dispatch({type:PRODUCT_REVIEW_SUCCESS,payload:data});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var getAllUserReviews=function getAllUserReviews(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _yield$sendRequest2,error,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:USER_REVIEW_REQUEST});_context2.next=4;return sendRequest(\"\".concat(process.env.REACT_APP_API_URL,\"/reviews/users/\").concat(userId));case 4:_yield$sendRequest2=_context2.sent;error=_yield$sendRequest2.error;data=_yield$sendRequest2.data;error?dispatch({type:USER_REVIEW_FAILURE,payload:error}):dispatch({type:USER_REVIEW_SUCCESS,payload:data});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var createProductReview=function createProductReview(productId,token,createInfo){var onSuccess=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(){};return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _yield$sendRequest3,error,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:REVIEW_CREATE_REQUEST});_context3.next=4;return sendRequest(\"\".concat(process.env.REACT_APP_API_URL,\"/reviews/products/\").concat(productId),'POST',{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},JSON.stringify(createInfo));case 4:_yield$sendRequest3=_context3.sent;error=_yield$sendRequest3.error;data=_yield$sendRequest3.data;if(!error){_context3.next=9;break;}return _context3.abrupt(\"return\",dispatch({type:REVIEW_CREATE_FAILURE,payload:error}));case 9:dispatch({type:REVIEW_CREATE_SUCCESS,payload:data});onSuccess();_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};export var deleteProductReview=function deleteProductReview(reviewId,token,onSuccess){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _yield$sendRequest4,error,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:REVIEW_DELETE_REQUEST});_context4.next=4;return sendRequest(\"\".concat(process.env.REACT_APP_API_URL,\"/reviews/\").concat(reviewId),'DELETE',{Authorization:\"Bearer \".concat(token)});case 4:_yield$sendRequest4=_context4.sent;error=_yield$sendRequest4.error;data=_yield$sendRequest4.data;if(!error){_context4.next=9;break;}return _context4.abrupt(\"return\",dispatch({type:REVIEW_DELETE_FAILURE,payload:error}));case 9:dispatch({type:REVIEW_DELETE_SUCCESS,payload:data});onSuccess();_context4.next=16;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 16:case\"end\":return _context4.stop();}}},_callee4,null,[[0,13]]);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/redux/actionCreators/reviewActionCreators.js"],"names":["PRODUCT_REVIEW_REQUEST","PRODUCT_REVIEW_SUCCESS","PRODUCT_REVIEW_FAILURE","USER_REVIEW_REQUEST","USER_REVIEW_SUCCESS","USER_REVIEW_FAILURE","REVIEW_CREATE_REQUEST","REVIEW_CREATE_SUCCESS","REVIEW_CREATE_FAILURE","REVIEW_DELETE_REQUEST","REVIEW_DELETE_SUCCESS","REVIEW_DELETE_FAILURE","sendRequest","getAllProductReviews","productId","dispatch","getState","type","process","env","REACT_APP_API_URL","error","data","payload","console","log","getAllUserReviews","userId","createProductReview","token","createInfo","onSuccess","Authorization","JSON","stringify","deleteProductReview","reviewId"],"mappings":"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","sourcesContent":["import {\n  PRODUCT_REVIEW_REQUEST,\n  PRODUCT_REVIEW_SUCCESS,\n  PRODUCT_REVIEW_FAILURE,\n  USER_REVIEW_REQUEST,\n  USER_REVIEW_SUCCESS,\n  USER_REVIEW_FAILURE,\n  REVIEW_CREATE_REQUEST,\n  REVIEW_CREATE_SUCCESS,\n  REVIEW_CREATE_FAILURE,\n  REVIEW_DELETE_REQUEST,\n  REVIEW_DELETE_SUCCESS,\n  REVIEW_DELETE_FAILURE,\n} from '../actions/reviewActions';\n\nimport { sendRequest } from '../../helpers';\n\nexport const getAllProductReviews =\n  (productId) => async (dispatch, getState) => {\n    try {\n      dispatch({ type: PRODUCT_REVIEW_REQUEST });\n      const { error, data } = await sendRequest(\n        `${process.env.REACT_APP_API_URL}/reviews/products/${productId}`\n      );\n      error\n        ? dispatch({ type: PRODUCT_REVIEW_FAILURE, payload: error })\n        : dispatch({ type: PRODUCT_REVIEW_SUCCESS, payload: data });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\nexport const getAllUserReviews = (userId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: USER_REVIEW_REQUEST });\n    const { error, data } = await sendRequest(\n      `${process.env.REACT_APP_API_URL}/reviews/users/${userId}`\n    );\n    error\n      ? dispatch({ type: USER_REVIEW_FAILURE, payload: error })\n      : dispatch({ type: USER_REVIEW_SUCCESS, payload: data });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const createProductReview =\n  (productId, token, createInfo, onSuccess = () => {}) =>\n  async (dispatch, getState) => {\n    try {\n      dispatch({ type: REVIEW_CREATE_REQUEST });\n      const { error, data } = await sendRequest(\n        `${process.env.REACT_APP_API_URL}/reviews/products/${productId}`,\n        'POST',\n        {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        JSON.stringify(createInfo)\n      );\n      if (error) {\n        return dispatch({\n          type: REVIEW_CREATE_FAILURE,\n          payload: error,\n        });\n      }\n      dispatch({ type: REVIEW_CREATE_SUCCESS, payload: data });\n      onSuccess();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\nexport const deleteProductReview =\n  (reviewId, token, onSuccess) => async (dispatch, getState) => {\n    try {\n      dispatch({ type: REVIEW_DELETE_REQUEST });\n      const { error, data } = await sendRequest(\n        `${process.env.REACT_APP_API_URL}/reviews/${reviewId}`,\n        'DELETE',\n        {\n          Authorization: `Bearer ${token}`,\n        }\n      );\n      if (error) {\n        return dispatch({ type: REVIEW_DELETE_FAILURE, payload: error });\n      }\n      dispatch({ type: REVIEW_DELETE_SUCCESS, payload: data });\n      onSuccess();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n"]},"metadata":{},"sourceType":"module"}