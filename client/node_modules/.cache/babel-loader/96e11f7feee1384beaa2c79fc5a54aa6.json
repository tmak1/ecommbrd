{"ast":null,"code":"import _objectSpread from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{ADD_TO_CART_REQUEST,ADD_TO_CART_SUCCESS,ADD_TO_CART_FAILURE,REMOVE_FROM_CART}from'../actions/cartActions';var addToCart=function addToCart(state,payload){var cartItems=[];var itemExists=false;if(state.cartItems.length>0){cartItems=state.cartItems.map(function(product){if(product.id===payload.id){itemExists=true;return payload;}return product;});}if(!itemExists){cartItems=[].concat(_toConsumableArray(state.cartItems),[payload]);}return cartItems;};var removeFromCart=function removeFromCart(state,payload){var cartItems=state.cartItems.filter(function(product){return product.id!==payload;});return cartItems;};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _ref=arguments.length>1?arguments[1]:undefined,type=_ref.type,payload=_ref.payload;switch(type){case ADD_TO_CART_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true});case ADD_TO_CART_SUCCESS:return{loading:false,cartItems:addToCart(state,payload)};case ADD_TO_CART_FAILURE:return _objectSpread(_objectSpread({},state),{},{loading:false,error:payload});case REMOVE_FROM_CART:return _objectSpread(_objectSpread({},state),{},{loading:false,cartItems:removeFromCart(state,payload)});default:return state;}};export default cartReducer;","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/redux/reducers/cartReducers.js"],"names":["ADD_TO_CART_REQUEST","ADD_TO_CART_SUCCESS","ADD_TO_CART_FAILURE","REMOVE_FROM_CART","addToCart","state","payload","cartItems","itemExists","length","map","product","id","removeFromCart","filter","cartReducer","type","loading","error"],"mappings":"uVAAA,OACEA,mBADF,CAEEC,mBAFF,CAGEC,mBAHF,CAIEC,gBAJF,KAKO,wBALP,CAOA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAQC,OAAR,CAAoB,CACpC,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,UAAU,CAAG,KAAjB,CACA,GAAIH,KAAK,CAACE,SAAN,CAAgBE,MAAhB,CAAyB,CAA7B,CAAgC,CAC9BF,SAAS,CAAGF,KAAK,CAACE,SAAN,CAAgBG,GAAhB,CAAoB,SAACC,OAAD,CAAa,CAC3C,GAAIA,OAAO,CAACC,EAAR,GAAeN,OAAO,CAACM,EAA3B,CAA+B,CAC7BJ,UAAU,CAAG,IAAb,CACA,MAAOF,CAAAA,OAAP,CACD,CACD,MAAOK,CAAAA,OAAP,CACD,CANW,CAAZ,CAOD,CACD,GAAI,CAACH,UAAL,CAAiB,CACfD,SAAS,8BAAOF,KAAK,CAACE,SAAb,GAAwBD,OAAxB,EAAT,CACD,CACD,MAAOC,CAAAA,SAAP,CACD,CAhBD,CAkBA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACR,KAAD,CAAQC,OAAR,CAAoB,CACzC,GAAIC,CAAAA,SAAS,CAAGF,KAAK,CAACE,SAAN,CAAgBO,MAAhB,CAAuB,SAACH,OAAD,QAAaA,CAAAA,OAAO,CAACC,EAAR,GAAeN,OAA5B,EAAvB,CAAhB,CACA,MAAOC,CAAAA,SAAP,CACD,CAHD,CAKA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAmC,IAAlCV,CAAAA,KAAkC,2DAA1B,EAA0B,oDAApBW,IAAoB,MAApBA,IAAoB,CAAdV,OAAc,MAAdA,OAAc,CACrD,OAAQU,IAAR,EACE,IAAKhB,CAAAA,mBAAL,CACE,sCAAYK,KAAZ,MAAmBY,OAAO,CAAE,IAA5B,GACF,IAAKhB,CAAAA,mBAAL,CACE,MAAO,CAAEgB,OAAO,CAAE,KAAX,CAAkBV,SAAS,CAAEH,SAAS,CAACC,KAAD,CAAQC,OAAR,CAAtC,CAAP,CACF,IAAKJ,CAAAA,mBAAL,CACE,sCAAYG,KAAZ,MAAmBY,OAAO,CAAE,KAA5B,CAAmCC,KAAK,CAAEZ,OAA1C,GACF,IAAKH,CAAAA,gBAAL,CACE,sCACKE,KADL,MAEEY,OAAO,CAAE,KAFX,CAGEV,SAAS,CAAEM,cAAc,CAACR,KAAD,CAAQC,OAAR,CAH3B,GAKF,QACE,MAAOD,CAAAA,KAAP,CAdJ,CAgBD,CAjBD,CAmBA,cAAeU,CAAAA,WAAf","sourcesContent":["import {\n  ADD_TO_CART_REQUEST,\n  ADD_TO_CART_SUCCESS,\n  ADD_TO_CART_FAILURE,\n  REMOVE_FROM_CART,\n} from '../actions/cartActions';\n\nconst addToCart = (state, payload) => {\n  let cartItems = [];\n  let itemExists = false;\n  if (state.cartItems.length > 0) {\n    cartItems = state.cartItems.map((product) => {\n      if (product.id === payload.id) {\n        itemExists = true;\n        return payload;\n      }\n      return product;\n    });\n  }\n  if (!itemExists) {\n    cartItems = [...state.cartItems, payload];\n  }\n  return cartItems;\n};\n\nconst removeFromCart = (state, payload) => {\n  let cartItems = state.cartItems.filter((product) => product.id !== payload);\n  return cartItems;\n};\n\nconst cartReducer = (state = {}, { type, payload }) => {\n  switch (type) {\n    case ADD_TO_CART_REQUEST:\n      return { ...state, loading: true };\n    case ADD_TO_CART_SUCCESS:\n      return { loading: false, cartItems: addToCart(state, payload) };\n    case ADD_TO_CART_FAILURE:\n      return { ...state, loading: false, error: payload };\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        loading: false,\n        cartItems: removeFromCart(state, payload),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n"]},"metadata":{},"sourceType":"module"}