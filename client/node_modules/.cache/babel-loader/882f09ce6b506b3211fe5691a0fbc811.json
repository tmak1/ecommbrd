{"ast":null,"code":"import _slicedToArray from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useContext,useState}from'react';import{Link as Rlink}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import TopProducts from'../components/TopProducts';import RatingSort from'../components/RatingSort';import ProductList from'../components/ProductList';import PageHeading from'../../shared/ui/PageHeading';import FilterTree from'../../shared/ui/FilterTree';import AlertMessage from'../../shared/ui/AlertMessage';import PaginationComp from'../../shared/ui/PaginationComp';import{ProductMetaDataContext}from'../../shared/contexts/ProductMetaDataContextProvider';import{listProducts}from'../../../redux/actionCreators/productActionCreators';import SkeletonProductList from'../../shared/ui/skeletons/SkeletonProductList';import{makeStyles}from'@material-ui/core/styles';import Grid from'@material-ui/core/Grid';import Link from'@material-ui/core/Link';import Button from'@material-ui/core/Button';import Divider from'@material-ui/core/Divider';import Hidden from'@material-ui/core/Hidden';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{controls:_defineProperty({marginBottom:'55px',marginLeft:'20px',width:'75%',display:'flex',float:'right',flexDirection:'row',justifyContent:'space-between',alignItems:'center'},theme.breakpoints.down(400),{float:'left',flexDirection:'column',alignItems:'flex-start'})};});var Product=function Product(){var dispatch=useDispatch();var classes=useStyles();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),jumbotronOpen=_useState2[0],setJumbotronOpen=_useState2[1];var _ref=useContext(ProductMetaDataContext)||{},searchTerm=_ref.searchTerm,page=_ref.page,setPage=_ref.setPage,perPage=_ref.perPage,setPerPage=_ref.setPerPage,filters=_ref.filters,setFilters=_ref.setFilters,sort=_ref.sort,rating=_ref.rating,setRating=_ref.setRating;var _useSelector=useSelector(function(state){return state.productsList;}),loading=_useSelector.loading,error=_useSelector.error,productInfo=_useSelector.productInfo;useEffect(function(){dispatch(listProducts(searchTerm,rating,page,perPage,filters,sort));!searchTerm||(searchTerm===null||searchTerm===void 0?void 0:searchTerm.trim())===''?setJumbotronOpen(true):setJumbotronOpen(false);},[searchTerm,rating,page,perPage,filters,sort,dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageHeading,{text:\"LATEST PRODUCTS\",paragraph:true,marginBottom:\"70px\"}),jumbotronOpen?/*#__PURE__*/_jsx(TopProducts,{setJumbotronOpen:setJumbotronOpen}):/*#__PURE__*/_jsxs(\"div\",{className:classes.controls,children:[/*#__PURE__*/_jsx(Link,{component:Rlink,to:\"/products\",variant:\"button\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Go back\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:function onClick(){return setJumbotronOpen(true);},style:{margin:'40px 0'},children:\"Featured\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,justify:\"space-between\",spacing:1,alignItems:\"flex-start\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:2,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FilterTree,{reset:(filters===null||filters===void 0?void 0:filters.length)===0?true:false,setFilters:setFilters}),/*#__PURE__*/_jsx(RatingSort,{rating:rating,setRating:setRating})]}),/*#__PURE__*/_jsx(Hidden,{mdDown:true,children:/*#__PURE__*/_jsx(Divider,{orientation:\"vertical\",style:{minHeight:'140vh',margin:'0 20px'}})})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:10,children:[loading&&/*#__PURE__*/_jsx(SkeletonProductList,{productCount:8}),error&&/*#__PURE__*/_jsx(AlertMessage,{message:error,severity:\"error\",variant:\"outlined\"}),(productInfo===null||productInfo===void 0?void 0:productInfo.products)&&/*#__PURE__*/_jsx(ProductList,{products:productInfo===null||productInfo===void 0?void 0:productInfo.products,perPage:perPage,setPerPage:setPerPage}),productInfo&&/*#__PURE__*/_jsx(PaginationComp,{page:page,pages:productInfo===null||productInfo===void 0?void 0:productInfo.pages,setPage:setPage})]})]})]});};export default Product;","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/components/products/pages/Products.js"],"names":["React","useEffect","useContext","useState","Link","Rlink","useDispatch","useSelector","TopProducts","RatingSort","ProductList","PageHeading","FilterTree","AlertMessage","PaginationComp","ProductMetaDataContext","listProducts","SkeletonProductList","makeStyles","Grid","Button","Divider","Hidden","useStyles","theme","controls","marginBottom","marginLeft","width","display","float","flexDirection","justifyContent","alignItems","breakpoints","down","Product","dispatch","classes","jumbotronOpen","setJumbotronOpen","searchTerm","page","setPage","perPage","setPerPage","filters","setFilters","sort","rating","setRating","state","productsList","loading","error","productInfo","trim","margin","length","minHeight","products","pages"],"mappings":"kVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,IAAI,GAAIC,CAAAA,KAAjB,KAA8B,kBAA9B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,gCAA3B,CAEA,OAASC,sBAAT,KAAuC,sDAAvC,CAEA,OAASC,YAAT,KAA6B,qDAA7B,CAEA,MAAOC,CAAAA,mBAAP,KAAgC,+CAAhC,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOf,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOgB,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAGL,UAAU,CAAC,SAACM,KAAD,QAAY,CACvCC,QAAQ,kBACNC,YAAY,CAAE,MADR,CAENC,UAAU,CAAE,MAFN,CAGNC,KAAK,CAAE,KAHD,CAINC,OAAO,CAAE,MAJH,CAKNC,KAAK,CAAE,OALD,CAMNC,aAAa,CAAE,KANT,CAONC,cAAc,CAAE,eAPV,CAQNC,UAAU,CAAE,QARN,EASLT,KAAK,CAACU,WAAN,CAAkBC,IAAlB,CAAuB,GAAvB,CATK,CASyB,CAC7BL,KAAK,CAAE,MADsB,CAE7BC,aAAa,CAAE,QAFc,CAG7BE,UAAU,CAAE,YAHiB,CATzB,CAD+B,CAAZ,EAAD,CAA5B,CAkBA,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAMC,CAAAA,QAAQ,CAAG/B,WAAW,EAA5B,CACA,GAAMgC,CAAAA,OAAO,CAAGf,SAAS,EAAzB,CACA,cAA0CpB,QAAQ,CAAC,IAAD,CAAlD,wCAAOoC,aAAP,eAAsBC,gBAAtB,eACA,SAWItC,UAAU,CAACa,sBAAD,CAAV,EAAsC,EAX1C,CACE0B,UADF,MACEA,UADF,CAEEC,IAFF,MAEEA,IAFF,CAGEC,OAHF,MAGEA,OAHF,CAIEC,OAJF,MAIEA,OAJF,CAKEC,UALF,MAKEA,UALF,CAMEC,OANF,MAMEA,OANF,CAOEC,UAPF,MAOEA,UAPF,CAQEC,IARF,MAQEA,IARF,CASEC,MATF,MASEA,MATF,CAUEC,SAVF,MAUEA,SAVF,CAaA,iBAAwC3C,WAAW,CACjD,SAAC4C,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAjB,EADiD,CAAnD,CAAQC,OAAR,cAAQA,OAAR,CAAiBC,KAAjB,cAAiBA,KAAjB,CAAwBC,WAAxB,cAAwBA,WAAxB,CAGAtD,SAAS,CAAC,UAAM,CACdoC,QAAQ,CAACrB,YAAY,CAACyB,UAAD,CAAaQ,MAAb,CAAqBP,IAArB,CAA2BE,OAA3B,CAAoCE,OAApC,CAA6CE,IAA7C,CAAb,CAAR,CACA,CAACP,UAAD,EAAe,CAAAA,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEe,IAAZ,MAAuB,EAAtC,CACIhB,gBAAgB,CAAC,IAAD,CADpB,CAEIA,gBAAgB,CAAC,KAAD,CAFpB,CAGD,CALQ,CAKN,CAACC,UAAD,CAAaQ,MAAb,CAAqBP,IAArB,CAA2BE,OAA3B,CAAoCE,OAApC,CAA6CE,IAA7C,CAAmDX,QAAnD,CALM,CAAT,CAOA,mBACE,wCACE,KAAC,WAAD,EAAa,IAAI,CAAC,iBAAlB,CAAoC,SAAS,KAA7C,CAA8C,YAAY,CAAC,MAA3D,EADF,CAEGE,aAAa,cACZ,KAAC,WAAD,EAAa,gBAAgB,CAAEC,gBAA/B,EADY,cAGZ,aAAK,SAAS,CAAEF,OAAO,CAACb,QAAxB,wBACE,KAAC,IAAD,EAAM,SAAS,CAAEpB,KAAjB,CAAwB,EAAE,CAAC,WAA3B,CAAuC,OAAO,CAAC,QAA/C,uBACE,mCADF,EADF,cAIE,KAAC,MAAD,EACE,OAAO,CAAC,UADV,CAEE,OAAO,CAAE,yBAAMmC,CAAAA,gBAAgB,CAAC,IAAD,CAAtB,EAFX,CAGE,KAAK,CAAE,CAAEiB,MAAM,CAAE,QAAV,CAHT,sBAJF,GALJ,cAkBE,MAAC,IAAD,EACE,SAAS,KADX,CAEE,OAAO,CAAC,eAFV,CAGE,OAAO,CAAE,CAHX,CAIE,UAAU,CAAC,YAJb,wBAME,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,uBACE,aAAK,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAX,CAAZ,wBACE,oCACE,KAAC,UAAD,EACE,KAAK,CAAE,CAAAiB,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEY,MAAT,IAAoB,CAApB,CAAwB,IAAxB,CAA+B,KADxC,CAEE,UAAU,CAAEX,UAFd,EADF,cAKE,KAAC,UAAD,EAAY,MAAM,CAAEE,MAApB,CAA4B,SAAS,CAAEC,SAAvC,EALF,GADF,cAQE,KAAC,MAAD,EAAQ,MAAM,KAAd,uBACE,KAAC,OAAD,EACE,WAAW,CAAC,UADd,CAEE,KAAK,CAAE,CAAES,SAAS,CAAE,OAAb,CAAsBF,MAAM,CAAE,QAA9B,CAFT,EADF,EARF,GADF,EANF,cAuBE,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,EAAvB,WACGJ,OAAO,eAAI,KAAC,mBAAD,EAAqB,YAAY,CAAE,CAAnC,EADd,CAEGC,KAAK,eACJ,KAAC,YAAD,EAAc,OAAO,CAAEA,KAAvB,CAA8B,QAAQ,CAAC,OAAvC,CAA+C,OAAO,CAAC,UAAvD,EAHJ,CAKG,CAAAC,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAEK,QAAb,gBACC,KAAC,WAAD,EACE,QAAQ,CAAEL,WAAF,SAAEA,WAAF,iBAAEA,WAAW,CAAEK,QADzB,CAEE,OAAO,CAAEhB,OAFX,CAGE,UAAU,CAAEC,UAHd,EANJ,CAYGU,WAAW,eACV,KAAC,cAAD,EACE,IAAI,CAAEb,IADR,CAEE,KAAK,CAAEa,WAAF,SAAEA,WAAF,iBAAEA,WAAW,CAAEM,KAFtB,CAGE,OAAO,CAAElB,OAHX,EAbJ,GAvBF,GAlBF,GADF,CAiED,CA5FD,CA8FA,cAAeP,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport { Link as Rlink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport TopProducts from '../components/TopProducts';\nimport RatingSort from '../components/RatingSort';\nimport ProductList from '../components/ProductList';\nimport PageHeading from '../../shared/ui/PageHeading';\nimport FilterTree from '../../shared/ui/FilterTree';\nimport AlertMessage from '../../shared/ui/AlertMessage';\nimport PaginationComp from '../../shared/ui/PaginationComp';\n\nimport { ProductMetaDataContext } from '../../shared/contexts/ProductMetaDataContextProvider';\n\nimport { listProducts } from '../../../redux/actionCreators/productActionCreators';\n\nimport SkeletonProductList from '../../shared/ui/skeletons/SkeletonProductList';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Hidden from '@material-ui/core/Hidden';\n\nconst useStyles = makeStyles((theme) => ({\n  controls: {\n    marginBottom: '55px',\n    marginLeft: '20px',\n    width: '75%',\n    display: 'flex',\n    float: 'right',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    [theme.breakpoints.down(400)]: {\n      float: 'left',\n      flexDirection: 'column',\n      alignItems: 'flex-start',\n    },\n  },\n}));\n\nconst Product = () => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const [jumbotronOpen, setJumbotronOpen] = useState(true);\n  const {\n    searchTerm,\n    page,\n    setPage,\n    perPage,\n    setPerPage,\n    filters,\n    setFilters,\n    sort,\n    rating,\n    setRating,\n  } = useContext(ProductMetaDataContext) || {};\n\n  const { loading, error, productInfo } = useSelector(\n    (state) => state.productsList\n  );\n  useEffect(() => {\n    dispatch(listProducts(searchTerm, rating, page, perPage, filters, sort));\n    !searchTerm || searchTerm?.trim() === ''\n      ? setJumbotronOpen(true)\n      : setJumbotronOpen(false);\n  }, [searchTerm, rating, page, perPage, filters, sort, dispatch]);\n\n  return (\n    <>\n      <PageHeading text=\"LATEST PRODUCTS\" paragraph marginBottom=\"70px\" />\n      {jumbotronOpen ? (\n        <TopProducts setJumbotronOpen={setJumbotronOpen} />\n      ) : (\n        <div className={classes.controls}>\n          <Link component={Rlink} to=\"/products\" variant=\"button\">\n            <strong>Go back</strong>\n          </Link>\n          <Button\n            variant=\"outlined\"\n            onClick={() => setJumbotronOpen(true)}\n            style={{ margin: '40px 0' }}\n          >\n            Featured\n          </Button>\n        </div>\n      )}\n      <Grid\n        container\n        justify=\"space-between\"\n        spacing={1}\n        alignItems=\"flex-start\"\n      >\n        <Grid item xs={12} md={2}>\n          <div style={{ display: 'flex' }}>\n            <div>\n              <FilterTree\n                reset={filters?.length === 0 ? true : false}\n                setFilters={setFilters}\n              />\n              <RatingSort rating={rating} setRating={setRating} />\n            </div>\n            <Hidden mdDown>\n              <Divider\n                orientation=\"vertical\"\n                style={{ minHeight: '140vh', margin: '0 20px' }}\n              />\n            </Hidden>\n          </div>\n        </Grid>\n        <Grid item xs={12} md={10}>\n          {loading && <SkeletonProductList productCount={8} />}\n          {error && (\n            <AlertMessage message={error} severity=\"error\" variant=\"outlined\" />\n          )}\n          {productInfo?.products && (\n            <ProductList\n              products={productInfo?.products}\n              perPage={perPage}\n              setPerPage={setPerPage}\n            />\n          )}\n          {productInfo && (\n            <PaginationComp\n              page={page}\n              pages={productInfo?.pages}\n              setPage={setPage}\n            />\n          )}\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}