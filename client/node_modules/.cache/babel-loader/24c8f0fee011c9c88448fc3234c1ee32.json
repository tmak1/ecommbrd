{"ast":null,"code":"var _jsxFileName = \"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/server/client/src/components/users/pages/Auth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport SignupForm from '../components/SignupForm';\nimport LoginForm from '../components/LoginForm';\nimport LoadingLinear from '../../shared/ui/LoadingLinear';\nimport AlertMessage from '../../shared/ui/AlertMessage';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '30%',\n    margin: '30px auto',\n    minWidth: '350px',\n    [theme.breakpoints.down('xs')]: {\n      width: '90%'\n    }\n  },\n  rootBox: {\n    width: '100%',\n    margin: '7px auto',\n    textAlign: 'center'\n  }\n}));\n\nconst TabPanel = ({\n  children,\n  value,\n  index\n}) => {\n  _s();\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Box, {\n    hidden: value !== index,\n    className: classes.rootBox,\n    children: value === index ? children : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TabPanel, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = TabPanel;\n\nconst Auth = () => {\n  _s2();\n\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const history = useHistory();\n  const location = useLocation();\n  const search = new URLSearchParams(location.search);\n  const redirectQuery = search.has('redirect') ? search.get('redirect') : null;\n  const {\n    loading,\n    error,\n    loggedInUser\n  } = useSelector(state => state.userAuth);\n  useEffect(() => {\n    if (redirectQuery && loggedInUser) {\n      history.push(`/${redirectQuery}`);\n    }\n  }, [redirectQuery, loggedInUser, history]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: value,\n          onChange: (event, val) => setValue(val),\n          indicatorColor: \"primary\",\n          textColor: \"primary\",\n          variant: \"fullWidth\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Signin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Signup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(LoadingLinear, {\n        oneBarOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(AlertMessage, {\n        message: error,\n        severity: \"error\",\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 0,\n        children: /*#__PURE__*/_jsxDEV(LoginForm, {\n          loggedIn: !!loggedInUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 1,\n        children: /*#__PURE__*/_jsxDEV(SignupForm, {\n          loggedIn: !!loggedInUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s2(Auth, \"OdJbWBYbS/R41DzNL1rH4PWdTGk=\", false, function () {\n  return [useStyles, useHistory, useLocation, useSelector];\n});\n\n_c2 = Auth;\nexport default Auth;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"Auth\");","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/server/client/src/components/users/pages/Auth.js"],"names":["React","useState","useEffect","useLocation","useHistory","useSelector","SignupForm","LoginForm","LoadingLinear","AlertMessage","makeStyles","Paper","Box","Tabs","Tab","useStyles","theme","root","width","margin","minWidth","breakpoints","down","rootBox","textAlign","TabPanel","children","value","index","classes","Auth","setValue","history","location","search","URLSearchParams","redirectQuery","has","get","loading","error","loggedInUser","state","userAuth","push","event","val"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport SignupForm from '../components/SignupForm';\nimport LoginForm from '../components/LoginForm';\nimport LoadingLinear from '../../shared/ui/LoadingLinear';\nimport AlertMessage from '../../shared/ui/AlertMessage';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '30%',\n    margin: '30px auto',\n    minWidth: '350px',\n    [theme.breakpoints.down('xs')]: {\n      width: '90%',\n    },\n  },\n  rootBox: {\n    width: '100%',\n    margin: '7px auto',\n    textAlign: 'center',\n  },\n}));\n\nconst TabPanel = ({ children, value, index }) => {\n  const classes = useStyles();\n  return (\n    <Box hidden={value !== index} className={classes.rootBox}>\n      {value === index ? children : null}\n    </Box>\n  );\n};\n\nconst Auth = () => {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const history = useHistory();\n  const location = useLocation();\n  const search = new URLSearchParams(location.search);\n  const redirectQuery = search.has('redirect') ? search.get('redirect') : null;\n\n  const { loading, error, loggedInUser } = useSelector(\n    (state) => state.userAuth\n  );\n\n  useEffect(() => {\n    if (redirectQuery && loggedInUser) {\n      history.push(`/${redirectQuery}`);\n    }\n  }, [redirectQuery, loggedInUser, history]);\n\n  return (\n    <>\n      <div className={classes.root}>\n        <Paper>\n          <Tabs\n            value={value}\n            onChange={(event, val) => setValue(val)}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            variant=\"fullWidth\"\n          >\n            <Tab label=\"Signin\" />\n            <Tab label=\"Signup\" />\n          </Tabs>\n        </Paper>\n        {loading && <LoadingLinear oneBarOnly />}\n        {error && (\n          <AlertMessage message={error} severity=\"error\" variant=\"outlined\" />\n        )}\n        <TabPanel value={value} index={0}>\n          <LoginForm loggedIn={!!loggedInUser} />\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n          <SignupForm loggedIn={!!loggedInUser} />\n        </TabPanel>\n      </div>\n    </>\n  );\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}