{"ast":null,"code":"var _jsxFileName = \"/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/components/products/pages/ProductDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Reviews from '../components/Reviews';\nimport AlertMessage from '../../shared/ui/AlertMessage';\nimport ProductSummary from '../components/ProductSummary';\nimport { showProductDetails } from '../../../redux/actionCreators/productActionCreators';\nimport { SkeletonProductName, SkeletonProductDescription, SkeletonPrice, SkeletonRating, SkeletonMedia } from '../../shared/ui/skeletons/SkeletonComponents';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport Rating from '@material-ui/lab/Rating';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '0',\n    justifyContent: 'space-between',\n    marginBottom: '150px'\n  },\n  backBtn: {\n    '&:hover': {\n      background: 'none'\n    },\n    [theme.breakpoints.down('xs')]: {\n      display: 'none'\n    }\n  },\n  paper: {\n    width: '100%',\n    height: theme.spacing(45)\n  },\n  media: {\n    width: '100%',\n    height: '100%'\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    gap: theme.spacing(2)\n  },\n  rating: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(2)\n  }\n}));\n\nconst ProductDetails = () => {\n  _s();\n\n  const classes = useStyles();\n  const pid = useParams().pid;\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    loading,\n    error,\n    product\n  } = useSelector(state => state.productDetails);\n  const {\n    name,\n    imageUrl,\n    description,\n    price,\n    countInStock,\n    rating,\n    numReviews\n  } = product || {};\n  const [qty, setQty] = useState(1);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${product.id}?qty=${qty}`);\n  };\n\n  useEffect(() => {\n    dispatch(showProductDetails(pid));\n  }, [pid, dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => {\n        history.goBack();\n      },\n      className: classes.backBtn,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"button\",\n        gutterBottom: true,\n        paragraph: true,\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Go back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(AlertMessage, {\n      message: error,\n      severity: \"error\",\n      variant: \"outlined\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        lg: 5,\n        sm: 5,\n        xs: 12,\n        children: product === undefined && (loading || loading === undefined) ? /*#__PURE__*/_jsxDEV(SkeletonMedia, {\n          size: \"big\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.paper,\n          variant: \"outlined\",\n          square: true,\n          children: /*#__PURE__*/_jsxDEV(CardMedia, {\n            image: imageUrl || '/images/placeholder.jpg',\n            title: name,\n            className: classes.media\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        lg: 3,\n        sm: 6,\n        xs: 12,\n        className: classes.details,\n        children: [product === undefined && (loading || loading === undefined) ? /*#__PURE__*/_jsxDEV(SkeletonProductName, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this) : name !== null && name !== undefined ? /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          className: classes.name,\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AlertMessage, {\n          fullWidth: true,\n          fetchFailed: \"name\",\n          severity: \"error\",\n          showTitle: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), product === undefined && (loading || loading === undefined) ? /*#__PURE__*/_jsxDEV(SkeletonRating, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this) : product && rating !== null && rating !== undefined && numReviews !== null && numReviews !== undefined ? /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.rating,\n          children: [/*#__PURE__*/_jsxDEV(Rating, {\n            name: \"half-rating\",\n            value: rating,\n            precision: 1.0,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            children: [numReviews, \" reviews\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AlertMessage, {\n          fullWidth: true,\n          fetchFailed: \"rating\",\n          severity: \"error\",\n          showTitle: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), product === undefined && (loading || loading === undefined) ? /*#__PURE__*/_jsxDEV(SkeletonPrice, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this) : price !== null && price !== undefined ? /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: [\"$ \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AlertMessage, {\n          fullWidth: true,\n          fetchFailed: \"price\",\n          severity: \"error\",\n          showTitle: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), product === undefined && (loading || loading === undefined) ? /*#__PURE__*/_jsxDEV(SkeletonProductDescription, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this) : description !== null && description !== undefined ? /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          align: \"justify\",\n          paragraph: true,\n          color: \"textSecondary\",\n          className: classes.description,\n          children: [\"Description: \", description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AlertMessage, {\n          fullWidth: true,\n          fetchFailed: \"description\",\n          severity: \"error\",\n          showTitle: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        lg: 3,\n        sm: 12,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(ProductSummary, {\n          price: price,\n          countInStock: countInStock,\n          addToCartHandler: addToCartHandler,\n          setQty: setQty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), product && /*#__PURE__*/_jsxDEV(Reviews, {\n      product: product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductDetails, \"JUD1IOh2nA848qf7LyGV9ZqzBu0=\", false, function () {\n  return [useStyles, useParams, useHistory, useDispatch, useSelector];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/components/products/pages/ProductDetails.js"],"names":["React","useState","useEffect","useHistory","useParams","useDispatch","useSelector","Reviews","AlertMessage","ProductSummary","showProductDetails","SkeletonProductName","SkeletonProductDescription","SkeletonPrice","SkeletonRating","SkeletonMedia","makeStyles","Typography","Box","Button","Paper","CardMedia","Grid","Divider","Rating","useStyles","theme","root","padding","justifyContent","marginBottom","backBtn","background","breakpoints","down","display","paper","width","height","spacing","media","details","flexDirection","gap","rating","alignItems","ProductDetails","classes","pid","history","dispatch","loading","error","product","state","productDetails","name","imageUrl","description","price","countInStock","numReviews","qty","setQty","addToCartHandler","push","id","goBack","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Reviews from '../components/Reviews';\nimport AlertMessage from '../../shared/ui/AlertMessage';\nimport ProductSummary from '../components/ProductSummary';\n\nimport { showProductDetails } from '../../../redux/actionCreators/productActionCreators';\n\nimport {\n  SkeletonProductName,\n  SkeletonProductDescription,\n  SkeletonPrice,\n  SkeletonRating,\n  SkeletonMedia,\n} from '../../shared/ui/skeletons/SkeletonComponents';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: '0',\n    justifyContent: 'space-between',\n    marginBottom: '150px',\n  },\n  backBtn: {\n    '&:hover': {\n      background: 'none',\n    },\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  paper: {\n    width: '100%',\n    height: theme.spacing(45),\n  },\n  media: {\n    width: '100%',\n    height: '100%',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    gap: theme.spacing(2),\n  },\n  rating: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n  },\n}));\n\nconst ProductDetails = () => {\n  const classes = useStyles();\n  const pid = useParams().pid;\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n  const { loading, error, product } = useSelector(\n    (state) => state.productDetails\n  );\n  const {\n    name,\n    imageUrl,\n    description,\n    price,\n    countInStock,\n    rating,\n    numReviews,\n  } = product || {};\n  const [qty, setQty] = useState(1);\n  const addToCartHandler = () => {\n    history.push(`/cart/${product.id}?qty=${qty}`);\n  };\n  useEffect(() => {\n    dispatch(showProductDetails(pid));\n  }, [pid, dispatch]);\n\n  return (\n    <>\n      <Button\n        onClick={() => {\n          history.goBack();\n        }}\n        className={classes.backBtn}\n      >\n        <Typography variant=\"button\" gutterBottom paragraph>\n          <strong>Go back</strong>\n        </Typography>\n      </Button>\n      {error && (\n        <AlertMessage message={error} severity=\"error\" variant=\"outlined\" />\n      )}\n      <Grid container spacing={2} className={classes.root}>\n        <Grid item lg={5} sm={5} xs={12}>\n          {product === undefined && (loading || loading === undefined) ? (\n            <SkeletonMedia size=\"big\" />\n          ) : (\n            <Paper className={classes.paper} variant=\"outlined\" square>\n              <CardMedia\n                image={imageUrl || '/images/placeholder.jpg'}\n                title={name}\n                className={classes.media}\n              />\n            </Paper>\n          )}\n        </Grid>\n        <Grid item lg={3} sm={6} xs={12} className={classes.details}>\n          {product === undefined && (loading || loading === undefined) ? (\n            <SkeletonProductName />\n          ) : name !== null && name !== undefined ? (\n            <Typography variant=\"h6\" className={classes.name}>\n              {name}\n            </Typography>\n          ) : (\n            <AlertMessage\n              fullWidth\n              fetchFailed=\"name\"\n              severity=\"error\"\n              showTitle={false}\n            />\n          )}\n          <Divider />\n          {product === undefined && (loading || loading === undefined) ? (\n            <SkeletonRating />\n          ) : product &&\n            rating !== null &&\n            rating !== undefined &&\n            numReviews !== null &&\n            numReviews !== undefined ? (\n            <Box className={classes.rating}>\n              <Rating\n                name=\"half-rating\"\n                value={rating}\n                precision={1.0}\n                readOnly\n              />\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                {numReviews} reviews\n              </Typography>\n            </Box>\n          ) : (\n            <AlertMessage\n              fullWidth\n              fetchFailed=\"rating\"\n              severity=\"error\"\n              showTitle={false}\n            />\n          )}\n          <Divider />\n          {product === undefined && (loading || loading === undefined) ? (\n            <SkeletonPrice />\n          ) : price !== null && price !== undefined ? (\n            <Typography variant=\"h5\">\n              $ <strong>{price}</strong>\n            </Typography>\n          ) : (\n            <AlertMessage\n              fullWidth\n              fetchFailed=\"price\"\n              severity=\"error\"\n              showTitle={false}\n            />\n          )}\n          <Divider />\n          {product === undefined && (loading || loading === undefined) ? (\n            <SkeletonProductDescription />\n          ) : description !== null && description !== undefined ? (\n            <Typography\n              variant=\"subtitle1\"\n              align=\"justify\"\n              paragraph\n              color=\"textSecondary\"\n              className={classes.description}\n            >\n              Description: {description}\n            </Typography>\n          ) : (\n            <AlertMessage\n              fullWidth\n              fetchFailed=\"description\"\n              severity=\"error\"\n              showTitle={false}\n            />\n          )}\n        </Grid>\n        <Grid item lg={3} sm={12} xs={12}>\n          <ProductSummary\n            price={price}\n            countInStock={countInStock}\n            addToCartHandler={addToCartHandler}\n            setQty={setQty}\n          />\n        </Grid>\n      </Grid>\n      {product && <Reviews product={product} />}\n    </>\n  );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}