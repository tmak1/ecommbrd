{"ast":null,"code":"import React,{useEffect}from'react';import{useParams}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import ReviewList from'../components/ReviewList';import PageHeading from'../../shared/ui/PageHeading';import AlertMessage from'../../shared/ui/AlertMessage';import{getAllUserReviews}from'../../../redux/actionCreators/reviewActionCreators';import SkeletonReviews from'../../shared/ui/skeletons/SkeletonReviews';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reviews=function Reviews(_ref){var userId=_ref.userId;var dispatch=useDispatch();var userIdFromUrl=useParams().uid;var _useSelector=useSelector(function(state){return state.userAuth;}),loggedInUser=_useSelector.loggedInUser;var _useSelector2=useSelector(function(state){return state.userReviews||{};}),loading=_useSelector2.loading,error=_useSelector2.error,reviews=_useSelector2.reviews;var refreshReviews=function refreshReviews(){dispatch(getAllUserReviews(userId||userIdFromUrl));};useEffect(function(){dispatch(getAllUserReviews(userId||userIdFromUrl));},[userId,userIdFromUrl,dispatch]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(SkeletonReviews,{userreviews:true}),error&&/*#__PURE__*/_jsx(AlertMessage,{message:error,severity:\"error\",variant:\"outlined\"}),!loading&&!error?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageHeading,{size:\"medium\",text:\"Reviews\",gutterBottom:true}),(reviews===null||reviews===void 0?void 0:reviews.length)>0?/*#__PURE__*/_jsx(ReviewList,{reviews:reviews,loggedInUser:loggedInUser,userReview:true,refreshReviews:refreshReviews}):/*#__PURE__*/_jsx(\"div\",{children:\"No reviews yet\"})]}):null]})});};export default Reviews;","map":{"version":3,"sources":["/Users/tmak/Desktop/tei/udemy/brdtrv/ecomm/client/src/components/products/pages/UserReviews.js"],"names":["React","useEffect","useParams","useDispatch","useSelector","ReviewList","PageHeading","AlertMessage","getAllUserReviews","SkeletonReviews","Reviews","userId","dispatch","userIdFromUrl","uid","state","userAuth","loggedInUser","userReviews","loading","error","reviews","refreshReviews","length"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CAEA,OAASC,iBAAT,KAAkC,oDAAlC,CACA,MAAOC,CAAAA,eAAP,KAA4B,2CAA5B,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CAC9B,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,aAAa,CAAGX,SAAS,GAAGY,GAAlC,CACA,iBAAyBV,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACC,QAAjB,EAAD,CAApC,CAAQC,YAAR,cAAQA,YAAR,CACA,kBAAoCb,WAAW,CAC7C,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACG,WAAN,EAAqB,EAAhC,EAD6C,CAA/C,CAAQC,OAAR,eAAQA,OAAR,CAAiBC,KAAjB,eAAiBA,KAAjB,CAAwBC,OAAxB,eAAwBA,OAAxB,CAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BV,QAAQ,CAACJ,iBAAiB,CAACG,MAAM,EAAIE,aAAX,CAAlB,CAAR,CACD,CAFD,CAIAZ,SAAS,CAAC,UAAM,CACdW,QAAQ,CAACJ,iBAAiB,CAACG,MAAM,EAAIE,aAAX,CAAlB,CAAR,CACD,CAFQ,CAEN,CAACF,MAAD,CAASE,aAAT,CAAwBD,QAAxB,CAFM,CAAT,CAIA,mBACE,sCACE,uBACGO,OAAO,eAAI,KAAC,eAAD,EAAiB,WAAW,CAAE,IAA9B,EADd,CAEGC,KAAK,eACJ,KAAC,YAAD,EAAc,OAAO,CAAEA,KAAvB,CAA8B,QAAQ,CAAC,OAAvC,CAA+C,OAAO,CAAC,UAAvD,EAHJ,CAKG,CAACD,OAAD,EAAY,CAACC,KAAb,cACC,wCACE,KAAC,WAAD,EAAa,IAAI,CAAC,QAAlB,CAA2B,IAAI,CAAC,SAAhC,CAA0C,YAAY,KAAtD,EADF,CAEG,CAAAC,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEE,MAAT,EAAkB,CAAlB,cACC,KAAC,UAAD,EACE,OAAO,CAAEF,OADX,CAEE,YAAY,CAAEJ,YAFhB,CAGE,UAAU,CAAE,IAHd,CAIE,cAAc,CAAEK,cAJlB,EADD,cAQC,uCAVJ,GADD,CAcG,IAnBN,GADF,EADF,CAyBD,CAxCD,CA0CA,cAAeZ,CAAAA,OAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport ReviewList from '../components/ReviewList';\nimport PageHeading from '../../shared/ui/PageHeading';\nimport AlertMessage from '../../shared/ui/AlertMessage';\n\nimport { getAllUserReviews } from '../../../redux/actionCreators/reviewActionCreators';\nimport SkeletonReviews from '../../shared/ui/skeletons/SkeletonReviews';\n\nconst Reviews = ({ userId }) => {\n  const dispatch = useDispatch();\n  const userIdFromUrl = useParams().uid;\n  const { loggedInUser } = useSelector((state) => state.userAuth);\n  const { loading, error, reviews } = useSelector(\n    (state) => state.userReviews || {}\n  );\n  const refreshReviews = () => {\n    dispatch(getAllUserReviews(userId || userIdFromUrl));\n  };\n\n  useEffect(() => {\n    dispatch(getAllUserReviews(userId || userIdFromUrl));\n  }, [userId, userIdFromUrl, dispatch]);\n\n  return (\n    <>\n      <div>\n        {loading && <SkeletonReviews userreviews={true} />}\n        {error && (\n          <AlertMessage message={error} severity=\"error\" variant=\"outlined\" />\n        )}\n        {!loading && !error ? (\n          <>\n            <PageHeading size=\"medium\" text=\"Reviews\" gutterBottom />\n            {reviews?.length > 0 ? (\n              <ReviewList\n                reviews={reviews}\n                loggedInUser={loggedInUser}\n                userReview={true}\n                refreshReviews={refreshReviews}\n              />\n            ) : (\n              <div>No reviews yet</div>\n            )}\n          </>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default Reviews;\n"]},"metadata":{},"sourceType":"module"}